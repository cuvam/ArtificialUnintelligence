<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crystal Miner - Incremental Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            text-align: center;
            font-size: 1.2em;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .game-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .game-content {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }

        .stats {
            grid-column: 1 / -1;
            text-align: center;
        }

        .crystal-count {
            font-size: 3.5em;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 0 0 20px rgba(255,255,255,0.5);
        }

        .per-second {
            font-size: 1.5em;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .mine-button {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(145deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            font-size: 1.5em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: transform 0.1s, box-shadow 0.1s;
            margin: 0 auto;
            display: block;
        }

        .mine-button:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        .mine-button:active {
            transform: scale(0.95);
        }

        .click-value {
            display: block;
            font-size: 0.7em;
            margin-top: 10px;
            opacity: 0.9;
        }

        h2 {
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding-bottom: 10px;
        }

        .upgrade {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: transform 0.2s, background 0.2s;
        }

        .upgrade:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .upgrade-info {
            flex: 1;
        }

        .upgrade-name {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .upgrade-description {
            font-size: 0.9em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .upgrade-count {
            font-size: 0.9em;
            opacity: 0.7;
        }

        .upgrade-button {
            background: #4CAF50;
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: background 0.2s, transform 0.1s;
            white-space: nowrap;
        }

        .upgrade-button:hover {
            background: #45a049;
            transform: scale(1.05);
        }

        .upgrade-button:active {
            transform: scale(0.95);
        }

        .upgrade-button:disabled {
            background: #666;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .floating-number {
            position: fixed;
            font-size: 2em;
            font-weight: bold;
            pointer-events: none;
            animation: float-up 1s ease-out forwards;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        @keyframes float-up {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px);
            }
        }

        .reset-button {
            background: #f44336;
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            display: block;
            margin: 20px auto;
            transition: background 0.2s;
        }

        .reset-button:hover {
            background: #da190b;
        }

        .achievement {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid gold;
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .achievement-title {
            font-weight: bold;
            color: gold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üíé Crystal Miner üíé</h1>
        <p class="subtitle">Click to mine crystals and build your mining empire!</p>

        <div class="game-content">
            <div class="panel stats">
                <div class="crystal-count" id="crystalCount">0</div>
                <div class="per-second">Per second: <span id="perSecond">0</span></div>
                <button class="mine-button" id="mineButton">
                    MINE
                    <span class="click-value">+<span id="clickValue">1</span> per click</span>
                </button>
            </div>

            <div class="panel">
                <h2>‚õèÔ∏è Click Upgrades</h2>
                <div id="clickUpgrades"></div>
            </div>

            <div class="panel">
                <h2>ü§ñ Auto Miners</h2>
                <div id="autoUpgrades"></div>
            </div>
        </div>

        <div class="panel" style="max-width: 400px; margin: 0 auto;">
            <h2>üèÜ Achievements</h2>
            <div id="achievements"></div>
        </div>

        <button class="reset-button" onclick="resetGame()">Reset Game</button>
    </div>

    <script>
        // Game state
        let gameState = {
            crystals: 0,
            clickPower: 1,
            perSecond: 0,
            upgrades: {
                click: [
                    { name: 'Better Pickaxe', baseCost: 10, power: 1, count: 0, description: '+1 per click' },
                    { name: 'Diamond Drill', baseCost: 100, power: 5, count: 0, description: '+5 per click' },
                    { name: 'Laser Cutter', baseCost: 1000, power: 25, count: 0, description: '+25 per click' },
                    { name: 'Quantum Extractor', baseCost: 10000, power: 100, count: 0, description: '+100 per click' },
                ],
                auto: [
                    { name: 'Mining Bot', baseCost: 50, cps: 1, count: 0, description: '1 crystal/sec' },
                    { name: 'Crystal Golem', baseCost: 500, cps: 5, count: 0, description: '5 crystals/sec' },
                    { name: 'Excavation Crew', baseCost: 5000, cps: 25, count: 0, description: '25 crystals/sec' },
                    { name: 'Mining Facility', baseCost: 50000, cps: 100, count: 0, description: '100 crystals/sec' },
                    { name: 'Crystal Reactor', baseCost: 500000, cps: 500, count: 0, description: '500 crystals/sec' },
                    { name: 'Interdimensional Mine', baseCost: 5000000, cps: 2000, count: 0, description: '2000 crystals/sec' },
                ]
            },
            achievements: []
        };

        const achievementsList = [
            { id: 'first_crystal', name: 'First Crystal', description: 'Mine your first crystal', condition: () => gameState.crystals >= 1 },
            { id: 'hundred_crystals', name: 'Crystal Collector', description: 'Gather 100 crystals', condition: () => gameState.crystals >= 100 },
            { id: 'first_upgrade', name: 'First Upgrade', description: 'Buy your first upgrade', condition: () => getTotalUpgrades() >= 1 },
            { id: 'first_auto', name: 'Automation Begins', description: 'Buy your first auto miner', condition: () => getTotalAutoMiners() >= 1 },
            { id: 'ten_per_second', name: 'Passive Income', description: 'Reach 10 crystals per second', condition: () => gameState.perSecond >= 10 },
            { id: 'thousand_crystals', name: 'Crystal Hoarder', description: 'Gather 1,000 crystals', condition: () => gameState.crystals >= 1000 },
            { id: 'hundred_per_second', name: 'Production Line', description: 'Reach 100 crystals per second', condition: () => gameState.perSecond >= 100 },
            { id: 'million_crystals', name: 'Crystal Tycoon', description: 'Gather 1,000,000 crystals', condition: () => gameState.crystals >= 1000000 },
        ];

        function getTotalUpgrades() {
            return gameState.upgrades.click.reduce((sum, u) => sum + u.count, 0) +
                   gameState.upgrades.auto.reduce((sum, u) => sum + u.count, 0);
        }

        function getTotalAutoMiners() {
            return gameState.upgrades.auto.reduce((sum, u) => sum + u.count, 0);
        }

        // Load game state
        function loadGame() {
            const saved = localStorage.getItem('crystalMinerSave');
            if (saved) {
                const savedState = JSON.parse(saved);
                gameState.crystals = savedState.crystals || 0;
                gameState.clickPower = savedState.clickPower || 1;
                gameState.perSecond = savedState.perSecond || 0;
                gameState.achievements = savedState.achievements || [];

                // Load upgrade counts
                if (savedState.upgrades) {
                    gameState.upgrades.click.forEach((upgrade, i) => {
                        if (savedState.upgrades.click[i]) {
                            upgrade.count = savedState.upgrades.click[i].count;
                        }
                    });
                    gameState.upgrades.auto.forEach((upgrade, i) => {
                        if (savedState.upgrades.auto[i]) {
                            upgrade.count = savedState.upgrades.auto[i].count;
                        }
                    });
                }

                recalculateStats();
            }
        }

        // Save game state
        function saveGame() {
            localStorage.setItem('crystalMinerSave', JSON.stringify(gameState));
        }

        // Calculate current upgrade cost
        function getUpgradeCost(upgrade) {
            return Math.floor(upgrade.baseCost * Math.pow(1.15, upgrade.count));
        }

        // Recalculate click power and per second
        function recalculateStats() {
            gameState.clickPower = 1;
            gameState.upgrades.click.forEach(upgrade => {
                gameState.clickPower += upgrade.power * upgrade.count;
            });

            gameState.perSecond = 0;
            gameState.upgrades.auto.forEach(upgrade => {
                gameState.perSecond += upgrade.cps * upgrade.count;
            });
        }

        // Format numbers
        function formatNumber(num) {
            if (num >= 1e12) return (num / 1e12).toFixed(2) + 'T';
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';
            if (num >= 1e3) return (num / 1e3).toFixed(2) + 'K';
            return Math.floor(num).toString();
        }

        // Show floating number
        function showFloatingNumber(x, y, value) {
            const floater = document.createElement('div');
            floater.className = 'floating-number';
            floater.textContent = '+' + formatNumber(value);
            floater.style.left = x + 'px';
            floater.style.top = y + 'px';
            document.body.appendChild(floater);

            setTimeout(() => floater.remove(), 1000);
        }

        // Mine button click
        document.getElementById('mineButton').addEventListener('click', function(e) {
            gameState.crystals += gameState.clickPower;
            showFloatingNumber(e.clientX, e.clientY, gameState.clickPower);
            updateDisplay();
            checkAchievements();
        });

        // Buy upgrade
        function buyUpgrade(type, index) {
            const upgrade = gameState.upgrades[type][index];
            const cost = getUpgradeCost(upgrade);

            if (gameState.crystals >= cost) {
                gameState.crystals -= cost;
                upgrade.count++;
                recalculateStats();
                updateDisplay();
                saveGame();
                checkAchievements();
            }
        }

        // Update display
        function updateDisplay() {
            document.getElementById('crystalCount').textContent = formatNumber(gameState.crystals);
            document.getElementById('perSecond').textContent = formatNumber(gameState.perSecond);
            document.getElementById('clickValue').textContent = formatNumber(gameState.clickPower);

            // Update click upgrades
            const clickUpgradesDiv = document.getElementById('clickUpgrades');
            clickUpgradesDiv.innerHTML = '';
            gameState.upgrades.click.forEach((upgrade, index) => {
                const cost = getUpgradeCost(upgrade);
                const canAfford = gameState.crystals >= cost;

                const upgradeDiv = document.createElement('div');
                upgradeDiv.className = 'upgrade';
                upgradeDiv.innerHTML = `
                    <div class="upgrade-info">
                        <div class="upgrade-name">${upgrade.name}</div>
                        <div class="upgrade-description">${upgrade.description}</div>
                        <div class="upgrade-count">Owned: ${upgrade.count}</div>
                    </div>
                    <button class="upgrade-button" ${!canAfford ? 'disabled' : ''}
                            onclick="buyUpgrade('click', ${index})">
                        ${formatNumber(cost)} üíé
                    </button>
                `;
                clickUpgradesDiv.appendChild(upgradeDiv);
            });

            // Update auto upgrades
            const autoUpgradesDiv = document.getElementById('autoUpgrades');
            autoUpgradesDiv.innerHTML = '';
            gameState.upgrades.auto.forEach((upgrade, index) => {
                const cost = getUpgradeCost(upgrade);
                const canAfford = gameState.crystals >= cost;

                const upgradeDiv = document.createElement('div');
                upgradeDiv.className = 'upgrade';
                upgradeDiv.innerHTML = `
                    <div class="upgrade-info">
                        <div class="upgrade-name">${upgrade.name}</div>
                        <div class="upgrade-description">${upgrade.description}</div>
                        <div class="upgrade-count">Owned: ${upgrade.count}</div>
                    </div>
                    <button class="upgrade-button" ${!canAfford ? 'disabled' : ''}
                            onclick="buyUpgrade('auto', ${index})">
                        ${formatNumber(cost)} üíé
                    </button>
                `;
                autoUpgradesDiv.appendChild(upgradeDiv);
            });

            saveGame();
        }

        // Check for achievements
        function checkAchievements() {
            const achievementsDiv = document.getElementById('achievements');
            let newAchievement = false;

            achievementsList.forEach(achievement => {
                if (!gameState.achievements.includes(achievement.id) && achievement.condition()) {
                    gameState.achievements.push(achievement.id);
                    newAchievement = true;

                    // Show achievement
                    const achievementDiv = document.createElement('div');
                    achievementDiv.className = 'achievement';
                    achievementDiv.innerHTML = `
                        <div class="achievement-title">üèÜ ${achievement.name}</div>
                        <div>${achievement.description}</div>
                    `;
                    achievementsDiv.appendChild(achievementDiv);
                }
            });

            if (newAchievement) {
                saveGame();
            }
        }

        // Auto-generate crystals
        function autoGenerate() {
            if (gameState.perSecond > 0) {
                gameState.crystals += gameState.perSecond / 10; // Update 10 times per second
                updateDisplay();
            }
        }

        // Reset game
        function resetGame() {
            if (confirm('Are you sure you want to reset your game? This cannot be undone!')) {
                localStorage.removeItem('crystalMinerSave');
                location.reload();
            }
        }

        // Initialize game
        loadGame();
        updateDisplay();
        checkAchievements();

        // Game loop
        setInterval(autoGenerate, 100);

        // Auto-save every 10 seconds
        setInterval(saveGame, 10000);
    </script>
</body>
</html>
